{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:title" content="Hey, check out {{ relatedname }} on Furnicraft!">
    <meta property="og:description" content="Only ₹{{ related.offer }}. Don’t miss this deal!">
    
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:type" content="product">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Hey, check out {{ related.name }} on Furnicraft!">
    <meta name="twitter:description" content="Only ₹{{ related.offer }}. Don’t miss this deal!">
    
  <title>FurniCraft - Home</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./static/css/style.css" />

  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500&family=Lato:wght@700;900&display=swap"
    rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script src="{% static 'js/script.js'  %}"></script>

  <style>

  </style>
</head>

<body class="bg-white  relative">

  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden"></div>

  <header class="relative bg-cover bg-center h-[40vh] md:h-[70vh]"
    style="background-image: url('./static/images/product_page.png');">
    <div class="absolute inset-0 bg-black bg-opacity-60"></div>

    <nav id="navbar" class="fixed top-0 left-0 w-full z-50 px-6 py-4 md:px-24 transition-all duration-300">
      <div class="flex justify-between items-center w-full">

        <a href="index.html" id="brand" class="transition-all block">
          <img src="./static/images/logo.png" alt="FurniCraft Logo" class="h-10 md:h-12" />
        </a>

        <ul id="navLinks"
          class="hidden md:flex items-center space-x-8 py-6 text-white text-[14px] font-semibold uppercase transition-all">
          <li><a href="index.html" class="text-[#bc9565]">Home</a></li>

          <li class="relative group">
            <a href="products.html" class="hover:text-[#bc9565]">Our Products</a>

                    <ul class="text-white absolute left-0 top-full mt-2 bg-black/60 shadow-lg rounded-md opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 grid grid-cols-4 gap-4 p-4 min-w-[500px]">
    <!-- All categories -->
    <li>
        <a href="{% url 'product' %}" 
           class="block hover:underline decoration-[#bc9565] {% if not selected_category %}text-[#bc9565]{% endif %}">
           All
        </a>
    </li>

    <!-- Loop through categories -->
    {% for cat in categories %}
    <li>
        <a href="{% url 'product' %}?category={{ cat.id }}" 
           class="block hover:underline decoration-[#bc9565] {% if selected_category == cat.id|stringformat:'s' %}text-[#bc9565]{% endif %}">
           {{ cat.name }}
        </a>
    </li>
    {% endfor %}
</ul>

          </li>


          <li><a href="about.html" class="hover:text-[#bc9565]">About</a></li>
          <li><a href="contact.html" class="hover:text-[#bc9565]">Contact</a></li>

          <li>
        <a href="tel:+919447182559" class="bg-[#bc9565] text-white px-3 py-2 rounded hover:bg-[#a07f52] transition-all">+91 9447182559</a>

      </li>

          <li class="flex space-x-4 items-center">
            <a href="https://wa.me/919846017009" target="_blank" class="hover:text-[#bc9565]">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path fill="currentColor"
                  d="M19.05 4.91A9.82 9.82 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.26 8.26 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.18 8.18 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28" />
              </svg>
            </a>


            <a href="#" class="hover:text-[#bc9565]">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <circle cx="17" cy="7" r="1.5" fill="currentColor" />
                <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                  <path d="M16 3c2.76 0 5 2.24 5 5v8c0 2.76-2.24 5-5 5h-8c-2.76 0-5-2.24-5-5v-8c0-2.76 2.24-5 5-5h4Z" />
                  <path d="M12 8c2.21 0 4 1.79 4 4c0 2.21-1.79 4-4 4c-2.21 0-4-1.79-4-4c0-2.21 1.79-4 4-4" />
                </g>
              </svg>
            </a>

            <a href="#" class="hover:text-[#bc9565]">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path fill="currentColor"
                  d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95" />
              </svg>
            </a>
          </li>


        </ul>

        <div class="md:hidden z-50">
          <button id="menuBtn" class="text-white text-2xl transition-all">&#9776;</button>
        </div>
      </div>
    </nav>

    <div id="mobileMenu"
      class="fixed top-0 right-0 h-full w-3/4 bg-black bg-opacity-95 text-white text-lg z-[9999] hidden">
      <div class="flex justify-end px-4 pt-4">
        <button id="closeBtn" class="text-3xl font-bold focus:outline-none">&times;</button>
      </div>
      <ul class="flex flex-col items-start space-y-6 p-6 pt-10 uppercase text-[14px] font-semibold">
        <li><a href="index.html" class="text-[#bc9565]">Home</a></li>
        <li><a href="products.html" class="hover:text-[#bc9565]">Our Products</a></li>
        <li><a href="about.html" class="hover:text-[#bc9565]">About</a></li>
        <li><a href="contact.html" class="hover:text-[#bc9565]">Contact</a></li>
        <li><a href="tel:+919447182559"
            class="bg-[#bc9565] text-white px-3 py-1 rounded hover:bg-[#a07f52] transition-all">+91 9447182559</a></li>

        <li class="flex space-x-4 items-center">
          <a href="https://wa.me/919846017009" target="_blank" class="hover:text-[#bc9565]">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M19.05 4.91A9.82 9.82 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.26 8.26 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.18 8.18 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28" />
            </svg>
          </a>

          <a href="#" class="hover:text-[#bc9565]">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
              <circle cx="17" cy="7" r="1.5" fill="currentColor" />
              <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                <path d="M16 3c2.76 0 5 2.24 5 5v8c0 2.76-2.24 5-5 5h-8c-2.76 0-5-2.24-5-5v-8c0-2.76 2.24-5 5-5h4Z" />
                <path d="M12 8c2.21 0 4 1.79 4 4c0 2.21-1.79 4-4 4c-2.21 0-4-1.79-4-4c0-2.21 1.79-4 4-4" />
              </g>
            </svg>
          </a>

          <a href="#" class="hover:text-[#bc9565]">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95" />
            </svg>
          </a>
        </li>
      </ul>
    </div>


    <div class="relative z-10 flex flex-col justify-center items-center h-full px-6 md:px-20 text-white text-center">
      <h1 class="text-4xl md:text-6xl  font-bold mb-4 uppercase text-center" style="line-height: 1.3;">
        OUR PRODUCTS
      </h1>
      <p class="text-lg md:text-xl max-w-xl mt-2">
        <a href="index.html" class=" hover:underline">Home</a> / Products
      </p>

    </div>
  </header>


  <section class="flex flex-col lg:flex-row gap-10 mt-20 px-6 lg:px-20">
    <div class="lg:w-1/2">
      <div class="w-full h-[400px] mb-4 cursor-pointer">
        <!-- Show first image or a placeholder -->
        {% if product.images.all %}
        <img id="mainImage" src="{{ product.images.all.0.image.url }}" alt="{{ product.name }}"
          class="w-full h-full object-cover rounded-xl shadow" />
        {% else %}
        <img id="mainImage" src="/static/images/placeholder.png" alt="No image"
          class="w-full h-full object-cover rounded-xl shadow" />
        {% endif %}
      </div>

      <div class="relative flex items-center">
        <button id="scrollLeft" class="absolute left-0 z-10 p-2">
          &#10094;
        </button>

        <div id="thumbnailContainer" class="flex gap-3 overflow-x-auto scrollbar-hide px-10">
          {% for img in product.images.all %}
          <img src="{{ img.image.url }}" class="w-24 h-24 object-cover rounded cursor-pointer thumbnail"
            onclick="document.getElementById('mainImage').src=this.src" />
          {% empty %}
          <p class="text-gray-500">No images available</p>
          {% endfor %}
        </div>

        <button id="scrollRight" class="absolute right-0 z-10 p-2">
          &#10095;
        </button>
      </div>
    </div>


    <div class="lg:w-1/2 space-y-6">
      <div>
        <h1 class="text-3xl font-bold text-[#2e2e2e] uppercase">{{ product.name }}</h1>
        <p class="text-lg text-gray-500">Premium Comfort 3-Seater</p>
      </div>

      <div class="flex items-center gap-4">
        <span class="text-xl line-through text-gray-400">₹{{ product.price }}</span>
        <span class="text-3xl font-bold text-[#bc9565]">{{ product.offer }}</span>
        <span class="text-green-600 font-semibold">{{ product.discount }}  OFF</span>
      </div>

      <div>
        <h3 class="text-lg font-semibold text-[#2e2e2e] mb-1">Description</h3>
        <p class="text-gray-600 leading-relaxed">
          {{product.description}}
        </p>
      </div>

      <div class="flex items-center gap-2">
        <span class="font-semibold text-[#2e2e2e]">Delivery:</span>
        <span class="text-gray-600">Within 5–7 Business Days</span>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <p class="font-semibold text-[#2e2e2e]">Material:</p>
          <p class="text-gray-600">{{ product.material }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Dimensions:</p>
          <p class="text-gray-600">{{ product.dimension }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Color:</p>
          <p class="text-gray-600">{{ product.color }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Weight:</p>
          <p class="text-gray-600">{{ product.weight }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Seating Capacity:</p>
          <p class="text-gray-600">{{ product.seating_capacity }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Warranty:</p>
          <p class="text-gray-600">{{ product.warranty }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Availability:</p>
          <p class="text-green-600 font-semibold">{{ product.availability }}</p>
        </div>
        <div>
          <p class="font-semibold text-[#2e2e2e]">Return Policy:</p>
          <p class="text-gray-600">{{ product.return_policy }}</p>
        </div>
      </div>

      <!-- <div class="flex items-center gap-4 mt-4">
        <label for="quantity" class="font-semibold text-[#2e2e2e]">Quantity:</label>
        <input id="quantity" type="number" min="1" value="1" class="border border-gray-300 rounded px-3 py-1 w-20">
      </div> -->

      <button
    class="mt-6 w-[20%] max-md:w-[30%] bg-[#bc9565] text-white py-3 rounded hover:bg-[#a27848] transition duration-300"
    onclick="openEnquiryModal('{{ product.name }}', '{{ product.material }}', '{{ product.offer }}', '{{ product.color }}', 1)">
    Enquire Now
</button>
    </div>


    <div id="imageModal" class="fixed inset-0 hidden items-center justify-center bg-black bg-opacity-70 z-50">
      <div class="relative bg-white rounded-lg p-4 max-w-4xl w-full">
        <button id="closeModal" class="absolute top-2 right-3 text-gray-600 text-2xl font-bold">&times;</button>

        <button id="modalPrev"
          class="absolute left-4 top-1/2 transform -translate-y-1/2 text-3xl text-gray-700 hover:text-black">
          &#10094;
        </button>

        <img id="modalImage" src="" class="w-full max-h-[80vh] object-contain rounded-lg" />

        <button id="modalNext"
          class="absolute right-4 top-1/2 transform -translate-y-1/2 text-3xl text-gray-700 hover:text-black">
          &#10095;
        </button>
      </div>
    </div>



</section>

    <!-- <div id="enquiryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
      <div class="bg-white rounded-lg w-full max-w-lg p-6 relative">
        <button onclick="closeEnquiryModal()"
          class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl">&times;</button>
        <h1 class="text-2xl font-bold text-[#2e2e2e] mb-4">Product Enquiry</h1>

        <form>
          <div class="mb-4">
            <label class="block text-sm font-medium">Product Name</label>
            <input id="productName" type="text" class="w-full border border-gray-300 rounded px-4 py-2 mt-1" readonly>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium">Material</label>
            <input id="productMaterial" type="text" class="w-full border border-gray-300 rounded px-4 py-2 mt-1"
              readonly>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium">Price</label>
            <input id="productPrice" type="text" class="w-full border border-gray-300 rounded px-4 py-2 mt-1" readonly>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium">Color</label>
            <input id="productColor" type="text" class="w-full border border-gray-300 rounded px-4 py-2 mt-1" readonly>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium">Quantity</label>
            <input id="productQuantity" type="number" class="w-full border border-gray-300 rounded px-4 py-2 mt-1"
              readonly>
          </div>


          <div class="mb-4">
            <label class="block text-sm font-medium">Your Name</label>
            <input type="text" class="w-full border border-gray-300 rounded px-4 py-2 mt-1"
              placeholder="Enter your name" required>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium">Contact Number</label>
            <input type="tel" class="w-full border border-gray-300 rounded px-4 py-2 mt-1"
              placeholder="Enter your contact number" required>
          </div>

          <button type="submit"
            class="w-full bg-[#bc9565] text-white py-2 rounded hover:bg-[#a27848] transition duration-300">
            Submit Enquiry
          </button>
        </form>
      </div>
    </div> -->

<!-- Enquiry Modal -->
<div id="enquiryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-full max-w-lg p-6 relative">
    <button onclick="closeEnquiryModal()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl">&times;</button>
    <h1 class="text-2xl font-bold text-[#2e2e2e] mb-4">Product Enquiry</h1>

    <form id="enquiryForm" method="POST" action="{% url 'product_detail' product.id %}">
      {% csrf_token %}

      <!-- Product Name -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Product Name</label>
        <input id="productNameDisplay" value="{{ product.name }}" type="text" readonly class="w-full border border-gray-300 rounded px-4 py-2 mt-1">
        <input type="hidden" name="product_name" id="productName">
      </div>

      <!-- Material -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Material</label>
        <input id="productMaterialDisplay" value="{{ product.material }}" type="text" readonly class="w-full border border-gray-300 rounded px-4 py-2 mt-1">
        <input type="hidden" name="product_material" id="productMaterial">
      </div>

      <!-- Price -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Price</label>
        <input id="productPriceDisplay" value="{{ product.offer }}" type="text" readonly class="w-full border border-gray-300 rounded px-4 py-2 mt-1">
        <input type="hidden" name="product_offer" id="productPrice">
      </div>

      <!-- Color -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Color</label>
        <input id="productColorDisplay" value="{{ product.color }}" type="text" readonly class="w-full border border-gray-300 rounded px-4 py-2 mt-1">
        <input type="hidden" name="product_color" id="productColor">
      </div>

      <!-- Quantity -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Quantity</label>
        <input type="number" class="w-full border border-gray-300 rounded px-4 py-2 mt-1" id="product_quantity" name="product_quantity" value="{{ product.quantity }}">
      </div>

      <!-- Customer Name -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Your Name</label>
        <input type="text" name="customer_name" id="customerName" class="w-full border border-gray-300 rounded px-4 py-2 mt-1" placeholder="Enter your name" required>
      </div>

      <!-- Contact Number -->
      <div class="mb-4">
        <label class="block text-sm font-medium">Contact Number</label>
        <input type="tel" name="contact_number" id="contactNumber" class="w-full border border-gray-300 rounded px-4 py-2 mt-1" placeholder="Enter your contact number" required>
      </div>

      <button type="submit" class="w-full bg-[#bc9565] text-white py-2 rounded hover:bg-[#a27848] transition duration-300">
        Submit Enquiry
      </button>
    </form>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // Open modal and fill product details
    window.openEnquiryModal = function(name, material, price, color, quantity) {
        document.getElementById("productName").value = name;
        document.getElementById("productMaterial").value = material;
        document.getElementById("productPrice").value = price;
        document.getElementById("productColor").value = color;
        document.getElementById("productQuantity").value = quantity;

        document.getElementById("enquiryModal").classList.remove("hidden");
    }

    // Close modal
    window.closeEnquiryModal = function() {
        document.getElementById("enquiryModal").classList.add("hidden");
    }
});
</script>




  </section>


<section class="mt-20 px-24">
  <h1 class="text-2xl font-bold text-[#2e2e2e] mb-6 inline-block pb-2">
    {% if related_products.0.category.id == product.category.id %}
      Related Products
    {% else %}
      You May Also Like
    {% endif %}
  </h1>

  {% if related_products %}
    <div class="hide-scrollbar flex md:grid md:grid-cols-2 lg:grid-cols-4 overflow-x-auto md:overflow-visible gap-6 scroll-smooth snap-x snap-mandatory px-1 md:px-0">
      {% for related in related_products %}
        <a href="{% url 'product_detail' related.id %}" class="min-w-full md:min-w-0 snap-start group relative">
          <div class="bg-white rounded-xl shadow p-4 hover:shadow-lg transition duration-300 w-full">

            <!-- Share Button -->
            <!-- <div class="absolute top-2 right-2 z-20 cursor-pointer bg-white rounded-full w-8 h-8 flex items-center justify-center shadow hover:shadow-md hover:bg-gray-100 transition duration-300"
                 onclick="openShareModal(event)">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="#3f3f3f">
                <path d="M17 22q-1.25 0-2.125-.875T14 19q0-.15.075-.7L7.05 14.2q-.4.375-.925.588T5 15q-1.25 0-2.125-.875T2 12t.875-2.125T5 9q.6 0 1.125.213t.925.587l7.025-4.1q-.05-.175-.062-.337T14 5q0-1.25.875-2.125T17 2t2.125.875T20 5t-.875 2.125T17 8q-.6 0-1.125-.213T14.95 7.2l-7.025 4.1q.05.175.063.338T8 12t-.012.363t-.063.337l7.025 4.1q.4-.375.925-.587T17 16q1.25 0 2.125.875T20 19t-.875 2.125T17 22m0-2q.425 0 .713-.287T18 19t-.288-.712T17 18t-.712.288T16 19t.288.713T17 20M5 13q.425 0 .713-.288T6 12t-.288-.712T5 11t-.712.288T4 12t.288.713T5 13m12-7q.425 0 .713-.288T18 5t-.288-.712T17 4t-.712.288T16 5t.288.713T17 6m0-1" />
              </svg>
            </div> -->

            <div
    class="absolute top-2 right-2 z-20 cursor-pointer bg-white rounded-full w-8 h-8 flex items-center justify-center shadow hover:shadow-md hover:bg-gray-100 transition duration-300 share-btn"
    data-share-url="{{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' related.id %}"
    data-product-id="{{ related.id }}"
    data-product-name="{{ related.name }}"
    data-product-offer="{{ related.offer|default:related.price }}"
    data-image-url="{% if related.images.first %}{{ related.images.first.image.url }}{% else %}{% static 'images/placeholder.png' %}{% endif %}">

              <path
                d="M17 22q-1.25 0-2.125-.875T14 19q0-.15.075-.7L7.05 14.2q-.4.375-.925.588T5 15q-1.25 0-2.125-.875T2 12t.875-2.125T5 9q.6 0 1.125.213t.925.587l7.025-4.1q-.05-.175-.062-.337T14 5q0-1.25.875-2.125T17 2t2.125.875T20 5t-.875 2.125T17 8q-.6 0-1.125-.213T14.95 7.2l-7.025 4.1q.05.175.063.338T8 12t-.012.363t-.063.337l7.025 4.1q.4-.375.925-.587T17 16q1.25 0 2.125.875T20 19t-.875 2.125T17 22m0-2q.425 0 .713-.287T18 19t-.288-.712T17 18t-.712.288T16 19t.288.713T17 20M5 13q.425 0 .713-.288T6 12t-.288-.712T5 11t-.712.288T4 12t.288.713T5 13m12-7q.425 0 .713-.288T18 5t-.288-.712T17 4t-.712.288T16 5t.288.713T17 6m0-1" />
            </svg>
          </div>

            <!-- Product Image -->
            {% if related.images.first %}
              <img src="{{ related.images.first.image.url }}" alt="{{ related.name }}"
                   class="product-image w-full h-64 object-cover rounded-md mb-4">
            {% else %}
              <img src="{% static 'images/placeholder.png' %}" alt="No image available"
                   class="product-image w-full h-64 object-cover rounded-md mb-4">
            {% endif %}

            <h3 class="text-lg font-semibold">{{ related.name }}</h3>
            <p class="text-sm text-gray-500">Material: {{ related.material }}</p>

            <div class="mt-1 flex items-center gap-2">
              <span class="text-base font-bold text-[#bc9565]">₹{{ related.price|floatformat:2 }}</span>
              {% if related.discount_percentage %}
                <span>{{ related.discount_percentage }}% off</span>
              {% endif %}
            </div>

            <button class="mt-4 w-full bg-[#bc9565] text-white py-2 rounded hover:bg-[#a27848] transition duration-300">
              Detail View
            </button>
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-500">No related products available right now.</p>
  {% endif %}

</section>

<!-- Modal -->
<div id="shareModal2" class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex items-center justify-center">
  <div class="bg-white rounded-xl p-6 w-80 relative shadow-lg">
    <button id="closeShare" class="absolute top-2 right-2 text-gray-600 hover:text-black text-xl">&times;</button>
    <h2 class="text-xl font-bold mb-6 text-center text-gray-800">Share this product</h2>

    <div class="flex flex-col gap-4">
      <a id="whatsappLink" target="_blank"
        class="flex items-center gap-3 px-4 py-2 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 transition">
        <img src="https://img.icons8.com/color/48/000000/whatsapp--v1.png" alt="WhatsApp" class="w-6 h-6" />
        <span>Share on WhatsApp</span>
      </a>

      <a id="facebookLink" target="_blank"
        class="flex items-center gap-3 px-4 py-2 rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition">
        <img src="https://img.icons8.com/color/48/000000/facebook-new.png" alt="Facebook" class="w-6 h-6" />
        <span>Share on Facebook</span>
      </a>

      <a id="twitterLink" target="_blank"
        class="flex items-center gap-3 px-4 py-2 rounded-lg bg-sky-100 text-sky-700 hover:bg-sky-200 transition">
        <img src="https://img.icons8.com/ios-filled/50/1DA1F2/twitter.png" alt="Twitter/X" class="w-6 h-6" />
        <span>Share on X</span>
      </a>

      <a id="linkedinLink" target="_blank"
        class="flex items-center gap-3 px-4 py-2 rounded-lg bg-blue-50 text-blue-800 hover:bg-blue-100 transition">
        <img src="https://img.icons8.com/color/48/000000/linkedin.png" alt="LinkedIn" class="w-6 h-6" />
        <span>Share on LinkedIn</span>
      </a>
    </div>
  </div>
</div>


<!-- 
  <section class="mt-20 px-24">
    {% if related_products %}
    <h1 class="text-2xl font-bold text-[#2e2e2e] mb-6 inline-block pb-2">
      Related Products
    </h1>

    <div id="cardContainer"
      class="hide-scrollbar flex md:grid md:grid-cols-2 lg:grid-cols-4 overflow-x-auto md:overflow-visible gap-6 scroll-smooth snap-x snap-mandatory px-1 md:px-0">
    {% for related in related_products %}
      <a href="{% url 'product_detail' product.id%}" class="min-w-full md:min-w-0 snap-start group relative">
        <div class="bg-white rounded-xl shadow p-4 hover:shadow-lg transition duration-300 w-full">

          <div
            class="absolute top-2 right-2 z-20 cursor-pointer bg-white rounded-full w-8 h-8 flex items-center justify-center shadow hover:shadow-md hover:bg-gray-100 transition duration-300"
            onclick="openShareModal(event)">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="#3f3f3f">
              <path
                d="M17 22q-1.25 0-2.125-.875T14 19q0-.15.075-.7L7.05 14.2q-.4.375-.925.588T5 15q-1.25 0-2.125-.875T2 12t.875-2.125T5 9q.6 0 1.125.213t.925.587l7.025-4.1q-.05-.175-.062-.337T14 5q0-1.25.875-2.125T17 2t2.125.875T20 5t-.875 2.125T17 8q-.6 0-1.125-.213T14.95 7.2l-7.025 4.1q.05.175.063.338T8 12t-.012.363t-.063.337l7.025 4.1q.4-.375.925-.587T17 16q1.25 0 2.125.875T20 19t-.875 2.125T17 22m0-2q.425 0 .713-.287T18 19t-.288-.712T17 18t-.712.288T16 19t.288.713T17 20M5 13q.425 0 .713-.288T6 12t-.288-.712T5 11t-.712.288T4 12t.288.713T5 13m12-7q.425 0 .713-.288T18 5t-.288-.712T17 4t-.712.288T16 5t.288.713T17 6m0-1" />
            </svg>
          </div>

          <img src="{{ related.images.first.image.url }}" data-hover="./static/images/about1.jpg" alt="Sofa"
            class="product-image w-full h-64 object-cover rounded-md mb-4">

          <h3 class="text-lg font-semibold">{{ related.name }}</h3>
          <p class="text-sm text-gray-500">Material: Leather</p>

          <div class="mt-1 flex items-center gap-2">
            <span class="text-base font-bold text-[#bc9565]">₹14,999</span>
            <span class="text-sm text-gray-400 line-through">₹{{ related.price|floatformat:2 }}</span>
            <span class="text-sm text-[red] font-medium">21% off</span>
          </div>

          <button class="mt-4 w-full bg-[#bc9565] text-white py-2 rounded hover:bg-[#a27848] transition duration-300">
            Detail View
          </button>
        </div>
      </a>
     





    </div>


    <div id="shareModal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex items-center justify-center">
      <div class="bg-white rounded-xl p-6 w-80 relative shadow-lg">
        <button onclick="closeShareModal()"
          class="absolute top-2 right-2 text-gray-600 hover:text-black text-xl">&times;</button>
        <h1 class="text-xl font-bold mb-6 text-center text-gray-800">Share this product</h1>

        <div class="flex flex-col gap-4">

          <a href="https://api.whatsapp.com/send?text=Check%20this%20product%20out:%20https://example.com/detail_product.html"
            target="_blank"
            class="flex items-center gap-3 px-4 py-2 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 transition">
            <img src="https://img.icons8.com/color/48/000000/whatsapp--v1.png" alt="WhatsApp" class="w-6 h-6" />
            <span>Share on WhatsApp</span>
          </a>

          <a href="https://www.facebook.com/sharer/sharer.php?u=https://example.com/detail_product.html" target="_blank"
            class="flex items-center gap-3 px-4 py-2 rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition">
            <img src="https://img.icons8.com/color/48/000000/facebook-new.png" alt="Facebook" class="w-6 h-6" />
            <span>Share on Facebook</span>
          </a>

          <a href="https://twitter.com/intent/tweet?url=https://example.com/detail_product.html" target="_blank"
            class="flex items-center gap-3 px-4 py-2 rounded-lg bg-sky-100 text-sky-700 hover:bg-sky-200 transition">
            <img src="https://img.icons8.com/ios-filled/50/1DA1F2/twitter.png" alt="Twitter/X" class="w-6 h-6" />
            <span>Share on X</span>
          </a>

          <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://example.com/detail_product.html"
            target="_blank"
            class="flex items-center gap-3 px-4 py-2 rounded-lg bg-blue-50 text-blue-800 hover:bg-blue-100 transition">
            <img src="https://img.icons8.com/color/48/000000/linkedin.png" alt="LinkedIn" class="w-6 h-6" />
            <span>Share on LinkedIn</span>
          </a>

        </div>
      </div>
       {% endfor %}
    </div>
    {% endif %}
  </section> -->



  <footer class="bg-black text-white px-6 md:px-24 py-20 mt-10">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-10 mb-10">
      <div>
        <img src="/static/images/logo11.png" alt="Logo" class="w-44 mb-4">
        <p class="text-md text-gray-300">
          We offer end-to-end furniture manufacturing, repair and polishing services to bring your spaces to life.
        </p>
      </div>

      <div>
        <h1 class="text-lg font-semibold mb-4 uppercase">Our Services</h1>
        <ul class="space-y-4 text-sm text-gray-300 font-lato">
          <li><a href="#" class="hover:text-white">Furniture Manufacturing</a></li>
          <li><a href="#" class="hover:text-white">Furniture Repair</a></li>
          <li><a href="#" class="hover:text-white">Polishing & Refinishing</a></li>
          <li><a href="#" class="hover:text-white">Home Delivery & Setup</a></li>
        </ul>
      </div>

      <div>
        <h1 class="text-lg font-semibold mb-4 uppercase">Quick Links</h1>
        <ul class="space-y-4 text-sm text-gray-300 font-lato">
          <li><a href="index.html" class="hover:text-white">Home</a></li>
          <li><a href="products.html" class="hover:text-white">Our Products</a></li>
          <li><a href="about.html" class="hover:text-white">About</a></li>
          <li><a href="contact.html" class="hover:text-white">Contact</a></li>
        </ul>
      </div>

      <div>
        <h1 class="text-lg font-semibold mb-4 uppercase">Contact Us</h1>
        <p class="text-sm text-gray-300">
          Peegee Complex,<br>
          Chittoor Road,<br>
          Pachalam,Cochin - 682012
        </p>
        <p class="mt-4 text-sm text-gray-300">
          Phone: <a href="tel:+919447182559" class="hover:text-white">+91 9447182559</a><br>
          Email: <a href="mailto:rajgopal.pu@gmail.com" class="hover:text-white">rajgopal.pu@gmail.com</a>
        </p>
      </div>


    </div>

    <hr class="border-gray-600 mb-6" />

    <div class="text-center text-sm text-gray-400">
      © 2025 All Rights Reserved. Powered by <span class="text-white font-semibold">Cybexel</span>
    </div>
  </footer>
  <script>
document.addEventListener("DOMContentLoaded", function() {
    // Open modal and fill product details
    window.openEnquiryModal = function(name, material, price, color, quantity) {
        document.getElementById("productName").value = name;
        document.getElementById("productMaterial").value = material;
        document.getElementById("productPrice").value = price;
        document.getElementById("productColor").value = color;
        document.getElementById("product_quantity").value = quantity;


        document.getElementById("enquiryModal").classList.remove("hidden");
    }

    // Close modal
    window.closeEnquiryModal = function() {
        document.getElementById("enquiryModal").classList.add("hidden");
    }
});
</script>

 <script>
document.getElementById("enquiryForm").addEventListener("submit", function (e) {
  e.preventDefault();

  let nameField = document.getElementById("customerName");
  let contactField = document.getElementById("contactNumber");

  let name = nameField.value.trim();
  let contact = contactField.value.trim();

  let namePattern = /^[A-Za-z\s]{2,}$/;
  let phonePattern = /^[0-9]+$/;
  let urlPattern = /(https?:\/\/|www\.)/i;

  // Name validation
  if (!namePattern.test(name) || urlPattern.test(name)) {
    alert("Your name must contain only letters and spaces, at least 2 characters, and no URLs.");
    nameField.focus();
    return;
  }

  // Contact number validation
  if (urlPattern.test(contact)) {
    alert("Contact number cannot contain URLs.");
    contactField.focus();
    return;
  }
  if (!phonePattern.test(contact)) {
    alert("Contact number must contain only digits, no spaces or symbols.");
    contactField.focus();
    return;
  }
  if (contact.length < 10 || contact.length > 15) {
    alert("Contact number must be between 10 and 15 digits long.");
    contactField.focus();
    return;
  }

  // ✅ Fill hidden inputs from readonly display inputs
  document.getElementById("productName").value = document.getElementById("productNameDisplay").value;
  document.getElementById("productMaterial").value = document.getElementById("productMaterialDisplay").value;
  document.getElementById("productPrice").value = document.getElementById("productPriceDisplay").value;
  document.getElementById("productColor").value = document.getElementById("productColorDisplay").value;

  alert("Enquiry submitted successfully!");
  e.target.submit();
});
</script>
  <script>
document.addEventListener("DOMContentLoaded", function () {
    const shareModal = document.getElementById("shareModal2");
    const closeBtn = document.getElementById("closeShare");

    const whatsappLink = document.getElementById("whatsappLink");
    const facebookLink = document.getElementById("facebookLink");
    const twitterLink = document.getElementById("twitterLink");
    const linkedinLink = document.getElementById("linkedinLink");

    document.querySelectorAll(".share-btn").forEach(btn => {
        btn.addEventListener("click", function (event) {
            event.preventDefault();
            event.stopPropagation();

            const productURL = btn.dataset.shareUrl;
            const productID = btn.dataset.productId;
            const productName = btn.dataset.productName;
            const rawOffer = btn.dataset.productOffer;
            const fallbackPrice = btn.dataset.productPrice || "0";
            const productPrice = rawOffer && rawOffer !== "null" && rawOffer !== "None"
                ? rawOffer
                : fallbackPrice;

            const message = [
                `Hey, check out this product (#${productID}) in Furnicraft!`,
                `${productName}`,
                `Price: ₹${productPrice}`,
                `${productURL}`
            ].join("\n");

            updateShareLinks(productURL, message);
            shareModal.classList.remove("hidden");
        });
    });

    closeBtn.addEventListener("click", () => shareModal.classList.add("hidden"));

    window.addEventListener("click", e => {
        if (e.target === shareModal) {
            shareModal.classList.add("hidden");
        }
    });

    function updateShareLinks(url, message) {
        const encodedURL = encodeURIComponent(url);
        const encodedMessage = encodeURIComponent(message).replace(/%0A/g, "%0A");

        whatsappLink.href = `https://wa.me/?text=${encodedMessage}`;
        facebookLink.href = `https://www.facebook.com/sharer/sharer.php?u=${encodedURL}`;
        twitterLink.href = `https://twitter.com/intent/tweet?text=${encodedMessage}`;
        linkedinLink.href = `https://www.linkedin.com/sharing/share-offsite/?url=${encodedURL}`;
    }
});
</script>
  <script src="./static/js/script.js"></script>
</body>

</html>